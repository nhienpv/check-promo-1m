<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT Promo Code Checker - Multi-threaded</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
	 <script src="config.js"></script>
  
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="material-icons">verified</span>
                    <h1>ChatGPT Promo Checker</h1>
                </div>
                <div class="header-subtitle">
                    Multi-threaded Promotion Code Validator
                </div>
                <div class="language-toggle">
                    <button id="langBtn" class="btn btn-outline">
                        <span class="material-icons">language</span>
                        <span id="currentLang">VI</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="settings-row">
                <div class="setting-group">
                    <label for="concurrency">S·ªë lu·ªìng ƒë·ªìng th·ªùi:</label>
                    <select id="concurrency">
                        <option value="3">3 lu·ªìng</option>
                        <option value="5" selected>5 lu·ªìng</option>
                        <option value="10">10 lu·ªìng</option>
                        <option value="15">15 lu·ªìng</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="delay">Delay gi·ªØa c√°c request (ms):</label>
                    <input type="number" id="delay" value="500" min="0" max="5000" step="100">
                </div>
                
                <!-- Token ƒë∆∞·ª£c t·ª± ƒë·ªông load t·ª´ config.js - ·∫®n ƒë·ªÉ b·∫£o m·∫≠t -->
                <div class="setting-group token-group" style="display: none;">
                    <label for="authToken">Authorization Token:</label>
                    <div class="token-input-container">
                        <input type="password" id="authToken" placeholder="Auto-loaded from config.js" style="min-width: 300px;">
                        <button type="button" class="btn btn-outline" id="toggleTokenBtn" title="Hi·ªán/·∫®n token">
                            <span class="material-icons">visibility</span>
                        </button>
                        <button type="button" class="btn btn-secondary" id="getTokenBtn" title="H∆∞·ªõng d·∫´n l·∫•y token">
                            <span class="material-icons">help</span>
                        </button>
                        <button type="button" class="btn btn-info" id="testTokenBtn" title="Ki·ªÉm tra token">
                            <span class="material-icons">verified</span>
                        </button>
                    </div>
                </div>
                <div class="setting-group">
                    <button id="startBtn" class="btn btn-primary">
                        <span class="material-icons">play_arrow</span>
                        B·∫Øt ƒë·∫ßu ki·ªÉm tra
                    </button>
                    <button id="stopBtn" class="btn btn-secondary" disabled>
                        <span class="material-icons">stop</span>
                        D·ª´ng l·∫°i
                    </button>
                </div>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
            <div class="progress-stats">
                <div class="stat-card">
                    <div class="stat-icon live">
                        <span class="material-icons">check_circle</span>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="liveCount">0</div>
                        <div class="stat-label">M√£ LIVE (Singapore/Malaysia)</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon dead">
                        <span class="material-icons">cancel</span>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="deadCount">0</div>
                        <div class="stat-label">M√£ DEAD</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon live">
                        <span class="material-icons">check_circle</span>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="ineligibleCount">0</div>
                        <div class="stat-label">M√£ LIVE (Vietnam)</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon total">
                        <span class="material-icons">assessment</span>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="totalCount">0</div>
                        <div class="stat-label">T·ªïng s·ªë</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon rate">
                        <span class="material-icons">trending_up</span>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="successRate">0%</div>
                        <div class="stat-label">T·ª∑ l·ªá th√†nh c√¥ng</div>
                    </div>
                </div>
                <div class="stat-card" id="duplicatesStatCard" style="display: none;">
                    <div class="stat-icon duplicates">
                        <span class="material-icons">content_copy</span>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="duplicatesCount">0</div>
                        <div class="stat-label">M√£ tr√πng l·∫∑p</div>
                    </div>
                </div>
            </div>
            
            <!-- Duplicate Codes Details -->
            <div class="duplicate-details" id="duplicateDetails" style="display: none;">
                <div class="duplicate-header">
                    <h4>
                        <span class="material-icons">warning</span>
                        List of duplicate codes
                    </h4>
                </div>
                <div class="duplicate-list" id="duplicateList"></div>
            </div>
            
            <div class="progress-bar-container">
                <div class="progress-info">
                    <span id="progressText">S·∫µn s√†ng ki·ªÉm tra...</span>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>

        <!-- Filter and Search -->
        <div class="filter-section">
            <div class="filter-controls">
                <div class="search-box">
                    <span class="material-icons">search</span>
                    <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm m√£ promotion...">
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">T·∫•t c·∫£</button>
                    <button class="filter-btn" data-filter="live">LIVE (Singapore/Malaysia)</button>
                    <button class="filter-btn" data-filter="dead">DEAD</button>
                    <button class="filter-btn" data-filter="ineligible">LIVE (Vietnam)</button>
                    <button class="filter-btn" data-filter="checking">ƒêang ki·ªÉm tra</button>
                </div>
                <div class="export-buttons">
                    <button id="exportBtn" class="btn btn-outline">
                        <span class="material-icons">download</span>
                        Export results
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Table -->
        <div class="results-section">
            <div class="results-header">
                <h2>K·∫øt qu·∫£ ki·ªÉm tra</h2>
                <div class="results-info">
                    <span id="resultsCount">0 k·∫øt qu·∫£</span>
                </div>
            </div>
            <div class="results-container">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>M√£ Promotion</th>
                            <th>Tr·∫°ng th√°i</th>
                            <th>Chi ti·∫øt</th>
                            <th>Th·ªùi gian</th>
                            <th>Thao t√°c</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                        <!-- Results will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Code Input Section -->
        <div class="input-section">
            <div class="input-header">
                <h3>Danh s√°ch m√£ promotion</h3>
                <div class="input-actions">
                    <button id="removeDuplicatesBtn" class="btn btn-outline">
                        <span class="material-icons">content_copy</span>
                        Lo·∫°i b·ªè tr√πng
                    </button>
                    <button id="clearCodesBtn" class="btn btn-outline">
                        <span class="material-icons">clear</span>
                        X√≥a t·∫•t c·∫£
                    </button>
                    <button id="addSampleBtn" class="btn btn-outline">
                        <span class="material-icons">add</span>
                        Th√™m m√£ m·∫´u
                    </button>
                </div>
            </div>
            <div class="input-container">
                <textarea 
                    id="promoCodesInput" 
                    placeholder="Nh·∫≠p c√°c m√£ promotion ho·∫∑c URL (m·ªói m√£/link m·ªôt d√≤ng)...
V√≠ d·ª•:
XXXXXXXXXXXXXXXX
https://chatgpt.com/?promoCode=XXXXXXXXXXXXXXXX
https://chatgpt.com/p/XXXXXXXXXXXXXXXX
https://chatgpt.com/p/V9TGRZMHATD59D"
                    rows="10"
                ></textarea>
                <div class="input-info">
                    <span id="codesCount">0 m√£</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast notifications -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- CORS Help Modal -->
    <div id="corsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîß Kh·∫Øc ph·ª•c l·ªói CORS</h3>
                <button class="modal-close" onclick="document.getElementById('corsModal').style.display='none'">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div class="modal-body">
                <p><strong>L·ªói "Failed to fetch" th∆∞·ªùng do CORS policy. C√≥ 3 c√°ch kh·∫Øc ph·ª•c:</strong></p>
                
                <div class="solution">
                    <h4>üöÄ C√°ch 1: Chrome v·ªõi CORS disabled (Khuy·∫øn ngh·ªã)</h4>
                    <ol>
                        <li>T·∫°o shortcut Chrome m·ªõi</li>
                        <li>Th√™m flags: <code>--disable-web-security --user-data-dir="C:/temp"</code></li>
                        <li>M·ªü tool b·∫±ng Chrome n√†y</li>
                    </ol>
                </div>
                
                <div class="solution">
                    <h4>üîå C√°ch 2: Browser Extension</h4>
                    <ol>
                        <li>C√†i extension "CORS Unblock" ho·∫∑c "CORS Everywhere"</li>
                        <li>B·∫≠t extension</li>
                        <li>Refresh trang v√† th·ª≠ l·∫°i</li>
                    </ol>
                </div>
                
                <div class="solution">
                    <h4>üåê C√°ch 3: Proxy Service</h4>
                    <ol>
                        <li>S·ª≠ d·ª•ng proxy nh∆∞ cors-anywhere</li>
                        <li>Ho·∫∑c ch·∫°y local proxy server</li>
                        <li>C·∫•u h√¨nh trong tool</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
